<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="stylesheet.css">
    <title>A question</title>
    <link rel="icon" type="image/x-icon" href="icon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        .main2 .ai img {
            width: 700px;
            height: 700px;
        }
    </style>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const buttons = document.querySelectorAll('.buttonStyle');
            const paragraphs = document.querySelectorAll('.sideshit2 p');
            let pressedButtons = [];
            let isButtonDisabled = false; // Flag variable to disable button during typing animation

            buttons.forEach(button => {
                button.addEventListener('click', function() {
                    if (isButtonDisabled) {
                        return; // Exit if button is disabled
                    }

                    paragraphs.forEach(paragraph => {
                        paragraph.style.display = 'none';
                    });

                    pressedButtons.push(this.id);

                    if (pressedButtons.includes('button1') && pressedButtons.includes('button2') && pressedButtons.includes('button4')) {
                        const output3 = document.getElementById('output3');
                        output3.textContent = 'Humanity bad';

                        const button3 = document.getElementById('button3');
                        const outputContainer = document.querySelector('.buttonc');

                        if (!button3.classList.contains('effect-applied')) {
                            button3.style.backgroundColor = 'red';
                            setTimeout(function() {
                                button3.style.backgroundColor = 'rgb(157, 0, 255)';
                                button3.classList.add('effect-applied');
                            }, 1000);
                        }

                        const light1a = document.querySelector('.light1a img');
                        const light1b = document.querySelector('.light1b img');
                        const light1c = document.querySelector('.light1c img');
                        const light2a = document.querySelector('.light2a img');
                        const light2b = document.querySelector('.light2b img');
                        const light2c = document.querySelector('.light2c img');
                        const side = document.querySelector('.side img');
                        light1a.src = 'blinking-light.gif';
                        light1b.src = 'blinking-light.gif';
                        light1c.src = 'blinking-light.gif';
                        light2a.src = 'blinking-light.gif';
                        light2b.src = 'blinking-light.gif';
                        light2c.src = 'blinking-light.gif';
                        side.src = 'smile4.png';
                    }

                    isButtonDisabled = true; // Disable button during typing animation
                    showParagraph(this.getAttribute('data-output'));
                });
            });

            function showParagraph(paragraphId) {
                const paragraph = document.getElementById(paragraphId);

                if (paragraph) {
                    paragraph.style.display = 'inline';
                    typewriterEffect(paragraph, function() {
                        isButtonDisabled = false; // Enable button after typing animation finishes
                        const aiImage = document.querySelector('.ai-image');
                        aiImage.style.animationDuration = '1s'; // Reset animation duration to original value after typewriter effect finishes
                    });
                }
            }

            function typewriterEffect(element, callback) {
                const text = element.innerText;
                element.innerText = '';
                let i = 0;

                function type() {
                    if (i < text.length) {
                        if (text.charAt(i) === ' ') {
                            element.innerHTML += '&nbsp;'; // Insert a non-breaking space
                        } else {
                            element.innerHTML += text.charAt(i);
                        }
                        i++;
                        setTimeout(type, 5);
                    } else {
                        callback(); // Call the callback function when typing animation finishes
                    }
                }

                type();

                // Speed up AI-purple gif animation while typewriter effect is active
                const aiImage = document.getElementById('aiImage');
                aiImage.style.animationDuration = '0.5s'; // Set animation duration to 0.5 seconds
            }
        });
    </script>
</head>
<body>
    <h1 id="Heading">Ask questions, get answers!</h1>
    <script>
        const heading = document.getElementById("Heading");

        // Function to apply the text shadow effect
        function applyTextShadow() {
            heading.style.textShadow = "2px 2px 4px rgb(255, 0, 255, 25.5)";
        }

        // Function to remove the text shadow effect
        function removeTextShadow() {
            heading.style.textShadow = "none";
        }

        // Function to control the blink effect
        function blinkEffect() {
            applyTextShadow();
            setTimeout(removeTextShadow, 1000);
            setTimeout(applyTextShadow, 1300);
            setTimeout(removeTextShadow, 2000);
        }

        // Initial call to start the effect
        blinkEffect();

        // Set interval to repeat the effect every 5 seconds
        setInterval(blinkEffect, 5000);
    </script>
    <div class="main">
        <div class="main2">
            <div class="ai">
                <img src="ai-purple.gif" alt="purple ai" class="ai-image" id="aiImage">>
            </div>
            <div class="buttona">
                <button class="buttonStyle" id="button1" data-output="output1">How does society function?</button>
            </div>
            <div class="buttonb">
                <button class="buttonStyle" id="button2" data-output="output2">How many people died in wars?</button>
            </div>
            <div class="buttonc">
                <button class="buttonStyle" id="button3" data-output="output3">Is humanity bad?</button>
            </div>
            <div class="buttond">
                <button class="buttonStyle" id="button4" data-output="output4">What is slavery?</button>
            </div>
        </div>
        <div class="sideshit2">
            <p id="output1" style="display: none;">Society kinda bad</p>
            <p id="output2" style="display: none;">Unfortunately, a lot</p>
            <p id="output3" style="display: none;">Humanity has achieved remarkable advancements in various fields, such as science, technology, art, and philosophy, which have improved the quality of life for many people. However, there are also significant challenges that humanity faces, including environmental issues, social injustices, conflicts, and ethical dilemmas.</p>
            <p id="output4" style="display: none;">Slavery is bad</p>
        </div>
    </div>
    <div class="sideshit">
        <div class="lights1">
            <div class="light1a">
                <img src="green-light.png" alt="green light">
            </div>
            <div class="light1b">
                <img src="green-light.png" alt="green light">
            </div>
            <div class="light1c">
                <img src="green-light.png" alt="green light">
            </div>
        </div>
        <div class="side">
            <img src="smile1.png" alt="side image">
        </div>
        <div class="lights2">
            <div class="light2a">
                <img src="green-light.png" alt="green light">
            </div>
            <div class="light2b">
                <img src="green-light.png" alt="green light">
            </div>
            <div class="light2c">
                <img src="green-light.png" alt="green light">
            </div>
        </div>
    </div>
</body>
</html>
